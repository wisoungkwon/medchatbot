<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8" />
<title>메디컬 챗봇</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="/css/chatbot.css" />
</head>
<body>
	<header>
		<button id="menuToggle" class="hamburger-btn">☰</button>
		<span style="margin-right: 12px;">💬 메디컬 챗봇</span>
		<div class="header-right">
			<div class="font-btn-group">
				<button id="fontIncrease" title="글씨 크게">A+</button>
				<button id="fontDecrease" title="글씨 작게">A-</button>
			</div>
			<button id="darkModeBtn" title="다크모드 전환" class="dark-btn">🌙</button>
		</div>
	</header>

	<!-- 🔎 환자 조회 바 -->
	<div class="lookup-bar">
		<input type="text" id="patientIdInput" placeholder="회원 아이디를 입력하세요" />
		<button id="patientLookupBtn">조회</button>
		<button id="panelToggleBtn" class="lookup-btn"
			style="background: #6b7280">접기</button>
	</div>

	<!-- 사이드 메뉴 -->
	<nav id="sideMenu" class="side-menu">
		<div class="menu-header">메뉴</div>
		<ul>
			<li><a href="#" id="loginBtn">로그인</a></li>
			<li><a href="#" id="signupBtn">회원가입</a></li>
			<li><a href="#" id="profileBtn">프로필</a></li>
			<li><a href="#" id="settingsBtn">설정</a></li>
		</ul>
	</nav>
	<div id="menuOverlay" class="menu-overlay"></div>

	<!-- 👤 환자 기본정보 -->
	<section id="profileSection" class="profile-card"
		style="display: none;">
		<h3 style="margin: 4px 0 12px;">환자 기본 정보</h3>
		<div class="profile-grid">
			<div>
				ID: <b id="patient-id"></b>
			</div>
			<div>
				나이: <b id="patient-age"></b>
			</div>
			<div>
				성별: <b id="patient-gender"></b>
			</div>
			<div>
				기저질환: <b id="patient-conditions"></b>
			</div>
		</div>
	</section>

	<!-- 🧾 과거 진단 기록 -->
	<section id="historySection" class="history-card"
		style="display: none;">
		<div class="history-header">
			<h3>과거 진단 기록</h3>
			<button id="historyCloseBtn" class="icon-btn" aria-label="히스토리 닫기"
				title="닫기">
				<i class="fa-solid fa-xmark"></i>
			</button>
		</div>

		<div class="empty-hint" id="history-empty" style="display: none;">기록이
			없습니다.</div>

		<div style="overflow: auto;">
			<table class="history-table">
				<thead>
					<tr>
						<th style="width: 150px;">대화 날짜</th>
						<th style="width: 25%;">증상</th>
						<th style="width: 25%;">예측 진단</th>
						<th style="width: 20%;">추천 진료과</th>
						<th>추가 정보</th>
					</tr>
				</thead>
				<tbody id="history-table-body"></tbody>
			</table>
		</div>
	</section>

	<!-- 채팅 -->
	<div class="chat-container" id="chat">
		<div class="message bot">안녕하세요! 증상을 입력해 주세요.</div>
	</div>

	<div class="input-container">
		<input type="text" id="userInput" placeholder="메시지를 입력하세요." />
		<button id="sendBtn">전송</button>
		<button class="mic-btn" aria-label="음성 입력 시작">
			<i class="fa-solid fa-microphone"></i>
		</button>
	</div>

	<script src="/js/chatbot.js"></script>

	<!-- 회원가입 모달 -->
	<div id="signupModal" class="modal">
		<div class="modal-content">
			<button class="close-btn" id="closeSignup" aria-label="닫기">&times;</button>
			<h2>회원가입</h2>
			<form id="signupForm">
				<label>아이디</label> <input type="text" id="signupId" required /> <label>나이</label>
				<input type="number" id="signupAge" required /> <label>성별</label>
				<div>
					<label><input type="radio" name="signupGender" value="남"
						required /> 남</label> <label><input type="radio"
						name="signupGender" value="여" /> 여</label>
				</div>
				<label>기저질환</label>
				<textarea id="signupCondition" rows="3"
					placeholder="공란이면 자동으로 '없음' 처리됩니다."></textarea>
				<button type="submit" class="submit-btn">가입하기</button>
			</form>
		</div>
	</div>
</body>
</html>
